<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>do-log-it</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <style>
        body { font-family: sans-serif; padding: 40px; background: #f5f5f5; }
        textarea { width: 100%; height: 200px; font-family: monospace; font-size: 14px; }
        button { margin-top: 10px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
        #result { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
<h1>do-log-it</h1>
<p>FÃ¼ge hier deinen Code, Error oder Log ein:</p>
<textarea id="code"></textarea><br>
<button onclick="share()">Teilen</button>
<div id="result"></div>

<script>
    async function share() {
        const code = document.getElementById('code').value;
        const formData = new URLSearchParams();
        formData.append('code', code);

        const res = await fetch('/api/share', {
            method: 'POST',
            body: formData
        });

        if(res.ok) {
            const link = await res.text();
            document.getElementById('result').innerHTML = `Dein Link: <a href="https://do-log-it.grueneeule.de${link}" target="_blank">${link}</a>`;
        } else {
            const err = await res.text();
            document.getElementById('result').textContent = `Fehler: ${err}`;
        }
    }
</script>
</body>
</html>
